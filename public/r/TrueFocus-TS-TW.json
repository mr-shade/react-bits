{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "TrueFocus-TS-TW",
  "type": "registry:block",
  "title": "TrueFocus",
  "description": "Applies dynamic blur / clarity based over a series of words in order.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "public/ts/tailwind/src/ts-tailwind/TextAnimations/TrueFocus/TrueFocus.tsx",
      "content": "import { useEffect, useRef, useState } from 'react';\r\nimport { motion } from 'motion/react';\r\n\r\ninterface TrueFocusProps {\r\n  sentence?: string;\r\n  manualMode?: boolean;\r\n  blurAmount?: number;\r\n  borderColor?: string;\r\n  glowColor?: string;\r\n  animationDuration?: number;\r\n  pauseBetweenAnimations?: number;\r\n}\r\n\r\ninterface FocusRect {\r\n  x: number;\r\n  y: number;\r\n  width: number;\r\n  height: number;\r\n}\r\n\r\nconst TrueFocus: React.FC<TrueFocusProps> = ({\r\n  sentence = 'True Focus',\r\n  manualMode = false,\r\n  blurAmount = 5,\r\n  borderColor = 'green',\r\n  glowColor = 'rgba(0, 255, 0, 0.6)',\r\n  animationDuration = 0.5,\r\n  pauseBetweenAnimations = 1\r\n}) => {\r\n  const words = sentence.split(' ');\r\n  const [currentIndex, setCurrentIndex] = useState<number>(0);\r\n  const [lastActiveIndex, setLastActiveIndex] = useState<number | null>(null);\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n  const wordRefs = useRef<(HTMLSpanElement | null)[]>([]);\r\n  const [focusRect, setFocusRect] = useState<FocusRect>({ x: 0, y: 0, width: 0, height: 0 });\r\n\r\n  useEffect(() => {\r\n    if (!manualMode) {\r\n      const interval = setInterval(\r\n        () => {\r\n          setCurrentIndex(prev => (prev + 1) % words.length);\r\n        },\r\n        (animationDuration + pauseBetweenAnimations) * 1000\r\n      );\r\n\r\n      return () => clearInterval(interval);\r\n    }\r\n  }, [manualMode, animationDuration, pauseBetweenAnimations, words.length]);\r\n\r\n  useEffect(() => {\r\n    if (currentIndex === null || currentIndex === -1) return;\r\n    if (!wordRefs.current[currentIndex] || !containerRef.current) return;\r\n\r\n    const parentRect = containerRef.current.getBoundingClientRect();\r\n    const activeRect = wordRefs.current[currentIndex]!.getBoundingClientRect();\r\n\r\n    setFocusRect({\r\n      x: activeRect.left - parentRect.left,\r\n      y: activeRect.top - parentRect.top,\r\n      width: activeRect.width,\r\n      height: activeRect.height\r\n    });\r\n  }, [currentIndex, words.length]);\r\n\r\n  const handleMouseEnter = (index: number) => {\r\n    if (manualMode) {\r\n      setLastActiveIndex(index);\r\n      setCurrentIndex(index);\r\n    }\r\n  };\r\n\r\n  const handleMouseLeave = () => {\r\n    if (manualMode) {\r\n      setCurrentIndex(lastActiveIndex!);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"relative flex gap-4 justify-center items-center flex-wrap\" ref={containerRef}>\r\n      {words.map((word, index) => {\r\n        const isActive = index === currentIndex;\r\n        return (\r\n          <span\r\n            key={index}\r\n            ref={el => {\r\n              wordRefs.current[index] = el;\r\n            }}\r\n            className=\"relative text-[3rem] font-black cursor-pointer\"\r\n            style={\r\n              {\r\n                filter: manualMode\r\n                  ? isActive\r\n                    ? `blur(0px)`\r\n                    : `blur(${blurAmount}px)`\r\n                  : isActive\r\n                    ? `blur(0px)`\r\n                    : `blur(${blurAmount}px)`,\r\n                transition: `filter ${animationDuration}s ease`\r\n              } as React.CSSProperties\r\n            }\r\n            onMouseEnter={() => handleMouseEnter(index)}\r\n            onMouseLeave={handleMouseLeave}\r\n          >\r\n            {word}\r\n          </span>\r\n        );\r\n      })}\r\n\r\n      <motion.div\r\n        className=\"absolute top-0 left-0 pointer-events-none box-border border-0\"\r\n        animate={{\r\n          x: focusRect.x,\r\n          y: focusRect.y,\r\n          width: focusRect.width,\r\n          height: focusRect.height,\r\n          opacity: currentIndex >= 0 ? 1 : 0\r\n        }}\r\n        transition={{\r\n          duration: animationDuration\r\n        }}\r\n        style={\r\n          {\r\n            '--border-color': borderColor,\r\n            '--glow-color': glowColor\r\n          } as React.CSSProperties\r\n        }\r\n      >\r\n        <span\r\n          className=\"absolute w-4 h-4 border-[3px] rounded-[3px] top-[-10px] left-[-10px] border-r-0 border-b-0\"\r\n          style={{\r\n            borderColor: 'var(--border-color)',\r\n            filter: 'drop-shadow(0 0 4px var(--border-color))'\r\n          }}\r\n        ></span>\r\n        <span\r\n          className=\"absolute w-4 h-4 border-[3px] rounded-[3px] top-[-10px] right-[-10px] border-l-0 border-b-0\"\r\n          style={{\r\n            borderColor: 'var(--border-color)',\r\n            filter: 'drop-shadow(0 0 4px var(--border-color))'\r\n          }}\r\n        ></span>\r\n        <span\r\n          className=\"absolute w-4 h-4 border-[3px] rounded-[3px] bottom-[-10px] left-[-10px] border-r-0 border-t-0\"\r\n          style={{\r\n            borderColor: 'var(--border-color)',\r\n            filter: 'drop-shadow(0 0 4px var(--border-color))'\r\n          }}\r\n        ></span>\r\n        <span\r\n          className=\"absolute w-4 h-4 border-[3px] rounded-[3px] bottom-[-10px] right-[-10px] border-l-0 border-t-0\"\r\n          style={{\r\n            borderColor: 'var(--border-color)',\r\n            filter: 'drop-shadow(0 0 4px var(--border-color))'\r\n          }}\r\n        ></span>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TrueFocus;\r\n",
      "type": "registry:component"
    }
  ]
}