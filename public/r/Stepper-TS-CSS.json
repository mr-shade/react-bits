{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "Stepper-TS-CSS",
  "type": "registry:block",
  "title": "Stepper",
  "description": "Animated multi-step progress indicator with active state transitions.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "public/ts/default/src/ts-default/Components/Stepper/Stepper.tsx",
      "content": "import React, { useState, Children, useRef, useLayoutEffect, HTMLAttributes, ReactNode } from 'react';\r\nimport { motion, AnimatePresence, Variants } from 'motion/react';\r\n\r\nimport './Stepper.css';\r\n\r\ninterface StepperProps extends HTMLAttributes<HTMLDivElement> {\r\n  children: ReactNode;\r\n  initialStep?: number;\r\n  onStepChange?: (step: number) => void;\r\n  onFinalStepCompleted?: () => void;\r\n  stepCircleContainerClassName?: string;\r\n  stepContainerClassName?: string;\r\n  contentClassName?: string;\r\n  footerClassName?: string;\r\n  backButtonProps?: React.ButtonHTMLAttributes<HTMLButtonElement>;\r\n  nextButtonProps?: React.ButtonHTMLAttributes<HTMLButtonElement>;\r\n  backButtonText?: string;\r\n  nextButtonText?: string;\r\n  disableStepIndicators?: boolean;\r\n  renderStepIndicator?: (props: RenderStepIndicatorProps) => ReactNode;\r\n}\r\n\r\ninterface RenderStepIndicatorProps {\r\n  step: number;\r\n  currentStep: number;\r\n  onStepClick: (clicked: number) => void;\r\n}\r\n\r\nexport default function Stepper({\r\n  children,\r\n  initialStep = 1,\r\n  onStepChange = () => {},\r\n  onFinalStepCompleted = () => {},\r\n  stepCircleContainerClassName = '',\r\n  stepContainerClassName = '',\r\n  contentClassName = '',\r\n  footerClassName = '',\r\n  backButtonProps = {},\r\n  nextButtonProps = {},\r\n  backButtonText = 'Back',\r\n  nextButtonText = 'Continue',\r\n  disableStepIndicators = false,\r\n  renderStepIndicator,\r\n  ...rest\r\n}: StepperProps) {\r\n  const [currentStep, setCurrentStep] = useState<number>(initialStep);\r\n  const [direction, setDirection] = useState<number>(0);\r\n  const stepsArray = Children.toArray(children);\r\n  const totalSteps = stepsArray.length;\r\n  const isCompleted = currentStep > totalSteps;\r\n  const isLastStep = currentStep === totalSteps;\r\n\r\n  const updateStep = (newStep: number) => {\r\n    setCurrentStep(newStep);\r\n    if (newStep > totalSteps) {\r\n      onFinalStepCompleted();\r\n    } else {\r\n      onStepChange(newStep);\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (currentStep > 1) {\r\n      setDirection(-1);\r\n      updateStep(currentStep - 1);\r\n    }\r\n  };\r\n\r\n  const handleNext = () => {\r\n    if (!isLastStep) {\r\n      setDirection(1);\r\n      updateStep(currentStep + 1);\r\n    }\r\n  };\r\n\r\n  const handleComplete = () => {\r\n    setDirection(1);\r\n    updateStep(totalSteps + 1);\r\n  };\r\n\r\n  return (\r\n    <div className=\"outer-container\" {...rest}>\r\n      <div className={`step-circle-container ${stepCircleContainerClassName}`} style={{ border: '1px solid #222' }}>\r\n        <div className={`step-indicator-row ${stepContainerClassName}`}>\r\n          {stepsArray.map((_, index) => {\r\n            const stepNumber = index + 1;\r\n            const isNotLastStep = index < totalSteps - 1;\r\n            return (\r\n              <React.Fragment key={stepNumber}>\r\n                {renderStepIndicator ? (\r\n                  renderStepIndicator({\r\n                    step: stepNumber,\r\n                    currentStep,\r\n                    onStepClick: clicked => {\r\n                      setDirection(clicked > currentStep ? 1 : -1);\r\n                      updateStep(clicked);\r\n                    }\r\n                  })\r\n                ) : (\r\n                  <StepIndicator\r\n                    step={stepNumber}\r\n                    disableStepIndicators={disableStepIndicators}\r\n                    currentStep={currentStep}\r\n                    onClickStep={clicked => {\r\n                      setDirection(clicked > currentStep ? 1 : -1);\r\n                      updateStep(clicked);\r\n                    }}\r\n                  />\r\n                )}\r\n                {isNotLastStep && <StepConnector isComplete={currentStep > stepNumber} />}\r\n              </React.Fragment>\r\n            );\r\n          })}\r\n        </div>\r\n\r\n        <StepContentWrapper\r\n          isCompleted={isCompleted}\r\n          currentStep={currentStep}\r\n          direction={direction}\r\n          className={`step-content-default ${contentClassName}`}\r\n        >\r\n          {stepsArray[currentStep - 1]}\r\n        </StepContentWrapper>\r\n\r\n        {!isCompleted && (\r\n          <div className={`footer-container ${footerClassName}`}>\r\n            <div className={`footer-nav ${currentStep !== 1 ? 'spread' : 'end'}`}>\r\n              {currentStep !== 1 && (\r\n                <button\r\n                  onClick={handleBack}\r\n                  className={`back-button ${currentStep === 1 ? 'inactive' : ''}`}\r\n                  {...backButtonProps}\r\n                >\r\n                  {backButtonText}\r\n                </button>\r\n              )}\r\n              <button onClick={isLastStep ? handleComplete : handleNext} className=\"next-button\" {...nextButtonProps}>\r\n                {isLastStep ? 'Complete' : nextButtonText}\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface StepContentWrapperProps {\r\n  isCompleted: boolean;\r\n  currentStep: number;\r\n  direction: number;\r\n  children: ReactNode;\r\n  className?: string;\r\n}\r\n\r\nfunction StepContentWrapper({ isCompleted, currentStep, direction, children, className }: StepContentWrapperProps) {\r\n  const [parentHeight, setParentHeight] = useState<number>(0);\r\n\r\n  return (\r\n    <motion.div\r\n      className={className}\r\n      style={{ position: 'relative', overflow: 'hidden' }}\r\n      animate={{ height: isCompleted ? 0 : parentHeight }}\r\n      transition={{ type: 'spring', duration: 0.4 }}\r\n    >\r\n      <AnimatePresence initial={false} mode=\"sync\" custom={direction}>\r\n        {!isCompleted && (\r\n          <SlideTransition key={currentStep} direction={direction} onHeightReady={h => setParentHeight(h)}>\r\n            {children}\r\n          </SlideTransition>\r\n        )}\r\n      </AnimatePresence>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\ninterface SlideTransitionProps {\r\n  children: ReactNode;\r\n  direction: number;\r\n  onHeightReady: (h: number) => void;\r\n}\r\n\r\nfunction SlideTransition({ children, direction, onHeightReady }: SlideTransitionProps) {\r\n  const containerRef = useRef<HTMLDivElement | null>(null);\r\n\r\n  useLayoutEffect(() => {\r\n    if (containerRef.current) {\r\n      onHeightReady(containerRef.current.offsetHeight);\r\n    }\r\n  }, [children, onHeightReady]);\r\n\r\n  return (\r\n    <motion.div\r\n      ref={containerRef}\r\n      custom={direction}\r\n      variants={stepVariants}\r\n      initial=\"enter\"\r\n      animate=\"center\"\r\n      exit=\"exit\"\r\n      transition={{ duration: 0.4 }}\r\n      style={{ position: 'absolute', left: 0, right: 0, top: 0 }}\r\n    >\r\n      {children}\r\n    </motion.div>\r\n  );\r\n}\r\n\r\nconst stepVariants: Variants = {\r\n  enter: (dir: number) => ({\r\n    x: dir >= 0 ? '-100%' : '100%',\r\n    opacity: 0\r\n  }),\r\n  center: {\r\n    x: '0%',\r\n    opacity: 1\r\n  },\r\n  exit: (dir: number) => ({\r\n    x: dir >= 0 ? '50%' : '-50%',\r\n    opacity: 0\r\n  })\r\n};\r\n\r\ninterface StepProps {\r\n  children: ReactNode;\r\n}\r\n\r\nexport function Step({ children }: StepProps): JSX.Element {\r\n  return <div className=\"step-default\">{children}</div>;\r\n}\r\n\r\ninterface StepIndicatorProps {\r\n  step: number;\r\n  currentStep: number;\r\n  onClickStep: (step: number) => void;\r\n  disableStepIndicators?: boolean;\r\n}\r\n\r\nfunction StepIndicator({ step, currentStep, onClickStep, disableStepIndicators }: StepIndicatorProps) {\r\n  const status = currentStep === step ? 'active' : currentStep < step ? 'inactive' : 'complete';\r\n\r\n  const handleClick = () => {\r\n    if (step !== currentStep && !disableStepIndicators) {\r\n      onClickStep(step);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <motion.div onClick={handleClick} className=\"step-indicator\" animate={status} initial={false}>\r\n      <motion.div\r\n        variants={{\r\n          inactive: { scale: 1, backgroundColor: '#222', color: '#a3a3a3' },\r\n          active: { scale: 1, backgroundColor: '#5227FF', color: '#5227FF' },\r\n          complete: { scale: 1, backgroundColor: '#5227FF', color: '#3b82f6' }\r\n        }}\r\n        transition={{ duration: 0.3 }}\r\n        className=\"step-indicator-inner\"\r\n      >\r\n        {status === 'complete' ? (\r\n          <CheckIcon className=\"check-icon\" />\r\n        ) : status === 'active' ? (\r\n          <div className=\"active-dot\" />\r\n        ) : (\r\n          <span className=\"step-number\">{step}</span>\r\n        )}\r\n      </motion.div>\r\n    </motion.div>\r\n  );\r\n}\r\n\r\ninterface StepConnectorProps {\r\n  isComplete: boolean;\r\n}\r\n\r\nfunction StepConnector({ isComplete }: StepConnectorProps) {\r\n  const lineVariants: Variants = {\r\n    incomplete: { width: 0, backgroundColor: 'transparent' },\r\n    complete: { width: '100%', backgroundColor: '#5227FF' }\r\n  };\r\n\r\n  return (\r\n    <div className=\"step-connector\">\r\n      <motion.div\r\n        className=\"step-connector-inner\"\r\n        variants={lineVariants}\r\n        initial={false}\r\n        animate={isComplete ? 'complete' : 'incomplete'}\r\n        transition={{ duration: 0.4 }}\r\n      />\r\n    </div>\r\n  );\r\n}\r\n\r\ninterface CheckIconProps extends React.SVGProps<SVGSVGElement> {}\r\n\r\nfunction CheckIcon(props: CheckIconProps) {\r\n  return (\r\n    <svg {...props} fill=\"none\" stroke=\"currentColor\" strokeWidth={2} viewBox=\"0 0 24 24\">\r\n      <motion.path\r\n        initial={{ pathLength: 0 }}\r\n        animate={{ pathLength: 1 }}\r\n        transition={{ delay: 0.1, type: 'tween', ease: 'easeOut', duration: 0.3 }}\r\n        strokeLinecap=\"round\"\r\n        strokeLinejoin=\"round\"\r\n        d=\"M5 13l4 4L19 7\"\r\n      />\r\n    </svg>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    },
    {
      "path": "public/ts/default/src/ts-default/Components/Stepper/Stepper.css",
      "content": ".outer-container {\r\n  display: flex;\r\n  min-height: 100%;\r\n  flex: 1 1 0%;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  padding: 1rem;\r\n}\r\n\r\n@media (min-width: 640px) {\r\n  .outer-container {\r\n    aspect-ratio: 4 / 3;\r\n  }\r\n}\r\n\r\n@media (min-width: 768px) {\r\n  .outer-container {\r\n    aspect-ratio: 2 / 1;\r\n  }\r\n}\r\n\r\n.step-circle-container {\r\n  margin-left: auto;\r\n  margin-right: auto;\r\n  width: 100%;\r\n  max-width: 28rem;\r\n  border-radius: 2rem;\r\n  box-shadow:\r\n    0 20px 25px -5px rgba(0, 0, 0, 0.1),\r\n    0 10px 10px -5px rgba(0, 0, 0, 0.04);\r\n}\r\n\r\n.step-indicator-row {\r\n  display: flex;\r\n  width: 100%;\r\n  align-items: center;\r\n  padding: 2rem;\r\n}\r\n\r\n.step-content-default {\r\n  position: relative;\r\n  overflow: hidden;\r\n}\r\n\r\n.step-default {\r\n  padding-left: 2rem;\r\n  padding-right: 2rem;\r\n}\r\n\r\n.footer-container {\r\n  padding-left: 2rem;\r\n  padding-right: 2rem;\r\n  padding-bottom: 2rem;\r\n}\r\n\r\n.footer-nav {\r\n  margin-top: 2.5rem;\r\n  display: flex;\r\n}\r\n\r\n.footer-nav.spread {\r\n  justify-content: space-between;\r\n}\r\n\r\n.footer-nav.end {\r\n  justify-content: flex-end;\r\n}\r\n\r\n.back-button {\r\n  transition: all 350ms;\r\n  border-radius: 0.25rem;\r\n  padding: 0.25rem 0.5rem;\r\n  color: #a3a3a3;\r\n  cursor: pointer;\r\n}\r\n\r\n.back-button:hover {\r\n  color: #52525b;\r\n}\r\n\r\n.back-button.inactive {\r\n  pointer-events: none;\r\n  opacity: 0.5;\r\n  color: #a3a3a3;\r\n}\r\n\r\n.next-button {\r\n  transition: all 350ms;\r\n  display: flex;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 9999px;\r\n  background-color: #5227ff;\r\n  color: #060010;\r\n  font-weight: 500;\r\n  letter-spacing: -0.025em;\r\n  padding: 0.375rem 0.875rem;\r\n  cursor: pointer;\r\n}\r\n\r\n.next-button:hover {\r\n  background-color: #5227ff;\r\n}\r\n\r\n.next-button:active {\r\n  background-color: #5227ff;\r\n}\r\n\r\n.step-indicator {\r\n  position: relative;\r\n  cursor: pointer;\r\n  outline: none;\r\n}\r\n\r\n.step-indicator-inner {\r\n  display: flex;\r\n  height: 2rem;\r\n  width: 2rem;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 9999px;\r\n  font-weight: 600;\r\n}\r\n\r\n.active-dot {\r\n  height: 0.75rem;\r\n  width: 0.75rem;\r\n  border-radius: 9999px;\r\n  background-color: #060010;\r\n}\r\n\r\n.step-number {\r\n  font-size: 0.875rem;\r\n}\r\n\r\n.step-connector {\r\n  position: relative;\r\n  margin-left: 0.5rem;\r\n  margin-right: 0.5rem;\r\n  height: 0.125rem;\r\n  flex: 1;\r\n  overflow: hidden;\r\n  border-radius: 0.25rem;\r\n  background-color: #52525b;\r\n}\r\n\r\n.step-connector-inner {\r\n  position: absolute;\r\n  left: 0;\r\n  top: 0;\r\n  height: 100%;\r\n}\r\n\r\n.check-icon {\r\n  height: 1rem;\r\n  width: 1rem;\r\n  color: #000;\r\n}\r\n",
      "type": "registry:item"
    }
  ]
}