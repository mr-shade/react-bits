{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "Carousel-JS-CSS",
  "type": "registry:block",
  "title": "Carousel",
  "description": "Responsive carousel with touch gestures, looping and transitions.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "public/default/src/content/Components/Carousel/Carousel.jsx",
      "content": "import { useEffect, useState, useRef } from 'react';\r\nimport { motion, useMotionValue, useTransform } from 'motion/react';\r\n// replace icons with your own if needed\r\nimport { FiCircle, FiCode, FiFileText, FiLayers, FiLayout } from 'react-icons/fi';\r\n\r\nimport './Carousel.css';\r\n\r\nconst DEFAULT_ITEMS = [\r\n  {\r\n    title: 'Text Animations',\r\n    description: 'Cool text animations for your projects.',\r\n    id: 1,\r\n    icon: <FiFileText className=\"carousel-icon\" />\r\n  },\r\n  {\r\n    title: 'Animations',\r\n    description: 'Smooth animations for your projects.',\r\n    id: 2,\r\n    icon: <FiCircle className=\"carousel-icon\" />\r\n  },\r\n  {\r\n    title: 'Components',\r\n    description: 'Reusable components for your projects.',\r\n    id: 3,\r\n    icon: <FiLayers className=\"carousel-icon\" />\r\n  },\r\n  {\r\n    title: 'Backgrounds',\r\n    description: 'Beautiful backgrounds and patterns for your projects.',\r\n    id: 4,\r\n    icon: <FiLayout className=\"carousel-icon\" />\r\n  },\r\n  {\r\n    title: 'Common UI',\r\n    description: 'Common UI components are coming soon!',\r\n    id: 5,\r\n    icon: <FiCode className=\"carousel-icon\" />\r\n  }\r\n];\r\n\r\nconst DRAG_BUFFER = 0;\r\nconst VELOCITY_THRESHOLD = 500;\r\nconst GAP = 16;\r\nconst SPRING_OPTIONS = { type: 'spring', stiffness: 300, damping: 30 };\r\n\r\nexport default function Carousel({\r\n  items = DEFAULT_ITEMS,\r\n  baseWidth = 300,\r\n  autoplay = false,\r\n  autoplayDelay = 3000,\r\n  pauseOnHover = false,\r\n  loop = false,\r\n  round = false\r\n}) {\r\n  const containerPadding = 16;\r\n  const itemWidth = baseWidth - containerPadding * 2;\r\n  const trackItemOffset = itemWidth + GAP;\r\n\r\n  const carouselItems = loop ? [...items, items[0]] : items;\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const x = useMotionValue(0);\r\n  const [isHovered, setIsHovered] = useState(false);\r\n  const [isResetting, setIsResetting] = useState(false);\r\n\r\n  const containerRef = useRef(null);\r\n  useEffect(() => {\r\n    if (pauseOnHover && containerRef.current) {\r\n      const container = containerRef.current;\r\n      const handleMouseEnter = () => setIsHovered(true);\r\n      const handleMouseLeave = () => setIsHovered(false);\r\n      container.addEventListener('mouseenter', handleMouseEnter);\r\n      container.addEventListener('mouseleave', handleMouseLeave);\r\n      return () => {\r\n        container.removeEventListener('mouseenter', handleMouseEnter);\r\n        container.removeEventListener('mouseleave', handleMouseLeave);\r\n      };\r\n    }\r\n  }, [pauseOnHover]);\r\n\r\n  useEffect(() => {\r\n    if (autoplay && (!pauseOnHover || !isHovered)) {\r\n      const timer = setInterval(() => {\r\n        setCurrentIndex(prev => {\r\n          if (prev === items.length - 1 && loop) {\r\n            return prev + 1;\r\n          }\r\n          if (prev === carouselItems.length - 1) {\r\n            return loop ? 0 : prev;\r\n          }\r\n          return prev + 1;\r\n        });\r\n      }, autoplayDelay);\r\n      return () => clearInterval(timer);\r\n    }\r\n  }, [autoplay, autoplayDelay, isHovered, loop, items.length, carouselItems.length, pauseOnHover]);\r\n\r\n  const effectiveTransition = isResetting ? { duration: 0 } : SPRING_OPTIONS;\r\n\r\n  const handleAnimationComplete = () => {\r\n    if (loop && currentIndex === carouselItems.length - 1) {\r\n      setIsResetting(true);\r\n      x.set(0);\r\n      setCurrentIndex(0);\r\n      setTimeout(() => setIsResetting(false), 50);\r\n    }\r\n  };\r\n\r\n  const handleDragEnd = (_, info) => {\r\n    const offset = info.offset.x;\r\n    const velocity = info.velocity.x;\r\n    if (offset < -DRAG_BUFFER || velocity < -VELOCITY_THRESHOLD) {\r\n      if (loop && currentIndex === items.length - 1) {\r\n        setCurrentIndex(currentIndex + 1);\r\n      } else {\r\n        setCurrentIndex(prev => Math.min(prev + 1, carouselItems.length - 1));\r\n      }\r\n    } else if (offset > DRAG_BUFFER || velocity > VELOCITY_THRESHOLD) {\r\n      if (loop && currentIndex === 0) {\r\n        setCurrentIndex(items.length - 1);\r\n      } else {\r\n        setCurrentIndex(prev => Math.max(prev - 1, 0));\r\n      }\r\n    }\r\n  };\r\n\r\n  const dragProps = loop\r\n    ? {}\r\n    : {\r\n        dragConstraints: {\r\n          left: -trackItemOffset * (carouselItems.length - 1),\r\n          right: 0\r\n        }\r\n      };\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className={`carousel-container ${round ? 'round' : ''}`}\r\n      style={{\r\n        width: `${baseWidth}px`,\r\n        ...(round && { height: `${baseWidth}px`, borderRadius: '50%' })\r\n      }}\r\n    >\r\n      <motion.div\r\n        className=\"carousel-track\"\r\n        drag=\"x\"\r\n        {...dragProps}\r\n        style={{\r\n          width: itemWidth,\r\n          gap: `${GAP}px`,\r\n          perspective: 1000,\r\n          perspectiveOrigin: `${currentIndex * trackItemOffset + itemWidth / 2}px 50%`,\r\n          x\r\n        }}\r\n        onDragEnd={handleDragEnd}\r\n        animate={{ x: -(currentIndex * trackItemOffset) }}\r\n        transition={effectiveTransition}\r\n        onAnimationComplete={handleAnimationComplete}\r\n      >\r\n        {carouselItems.map((item, index) => {\r\n          const range = [-(index + 1) * trackItemOffset, -index * trackItemOffset, -(index - 1) * trackItemOffset];\r\n          const outputRange = [90, 0, -90];\r\n          // eslint-disable-next-line react-hooks/rules-of-hooks\r\n          const rotateY = useTransform(x, range, outputRange, { clamp: false });\r\n          return (\r\n            <motion.div\r\n              key={index}\r\n              className={`carousel-item ${round ? 'round' : ''}`}\r\n              style={{\r\n                width: itemWidth,\r\n                height: round ? itemWidth : '100%',\r\n                rotateY: rotateY,\r\n                ...(round && { borderRadius: '50%' })\r\n              }}\r\n              transition={effectiveTransition}\r\n            >\r\n              <div className={`carousel-item-header ${round ? 'round' : ''}`}>\r\n                <span className=\"carousel-icon-container\">{item.icon}</span>\r\n              </div>\r\n              <div className=\"carousel-item-content\">\r\n                <div className=\"carousel-item-title\">{item.title}</div>\r\n                <p className=\"carousel-item-description\">{item.description}</p>\r\n              </div>\r\n            </motion.div>\r\n          );\r\n        })}\r\n      </motion.div>\r\n      <div className={`carousel-indicators-container ${round ? 'round' : ''}`}>\r\n        <div className=\"carousel-indicators\">\r\n          {items.map((_, index) => (\r\n            <motion.div\r\n              key={index}\r\n              className={`carousel-indicator ${currentIndex % items.length === index ? 'active' : 'inactive'}`}\r\n              animate={{\r\n                scale: currentIndex % items.length === index ? 1.2 : 1\r\n              }}\r\n              onClick={() => setCurrentIndex(index)}\r\n              transition={{ duration: 0.15 }}\r\n            />\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    },
    {
      "path": "public/default/src/content/Components/Carousel/Carousel.css",
      "content": ".carousel-container {\r\n  position: relative;\r\n  overflow: hidden;\r\n  border: 1px solid #555;\r\n  border-radius: 24px;\r\n  padding: 16px;\r\n  --outer-r: 24px;\r\n  --p-distance: 12px;\r\n}\r\n\r\n.carousel-track {\r\n  display: flex;\r\n}\r\n\r\n.carousel-item {\r\n  position: relative;\r\n  display: flex;\r\n  flex-shrink: 0;\r\n  flex-direction: column;\r\n  align-items: flex-start;\r\n  justify-content: space-between;\r\n  border: 1px solid #555;\r\n  border-radius: calc(var(--outer-r) - var(--p-distance));\r\n  background-color: #0d0716;\r\n  overflow: hidden;\r\n  cursor: grab;\r\n}\r\n\r\n.carousel-item:active {\r\n  cursor: grabbing;\r\n}\r\n\r\n.carousel-container.round {\r\n  border: 1px solid #555;\r\n}\r\n\r\n.carousel-item.round {\r\n  background-color: #0d0716;\r\n  position: relative;\r\n  bottom: 0.1em;\r\n  border: 1px solid #555;\r\n  justify-content: center;\r\n  align-items: center;\r\n  text-align: center;\r\n}\r\n\r\n.carousel-item-header.round {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n.carousel-indicators-container.round {\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: 3em;\r\n  left: 50%;\r\n  transform: translateX(-50%);\r\n}\r\n\r\n.carousel-indicator.active {\r\n  background-color: #333333;\r\n}\r\n\r\n.carousel-indicator.inactive {\r\n  background-color: rgba(51, 51, 51, 0.4);\r\n}\r\n\r\n.carousel-item-header {\r\n  margin-bottom: 16px;\r\n  padding: 20px;\r\n  padding-top: 20px;\r\n}\r\n\r\n.carousel-icon-container {\r\n  display: flex;\r\n  height: 28px;\r\n  width: 28px;\r\n  align-items: center;\r\n  justify-content: center;\r\n  border-radius: 50%;\r\n  background-color: #fff;\r\n}\r\n\r\n.carousel-icon {\r\n  height: 16px;\r\n  width: 16px;\r\n  color: #060010;\r\n}\r\n\r\n.carousel-item-content {\r\n  padding: 20px;\r\n  padding-bottom: 20px;\r\n}\r\n\r\n.carousel-item-title {\r\n  margin-bottom: 4px;\r\n  font-weight: 900;\r\n  font-size: 18px;\r\n  color: #fff;\r\n}\r\n\r\n.carousel-item-description {\r\n  font-size: 14px;\r\n  color: #fff;\r\n}\r\n\r\n.carousel-indicators-container {\r\n  display: flex;\r\n  width: 100%;\r\n  justify-content: center;\r\n}\r\n\r\n.carousel-indicators {\r\n  margin-top: 16px;\r\n  display: flex;\r\n  width: 150px;\r\n  justify-content: space-between;\r\n  padding: 0 32px;\r\n}\r\n\r\n.carousel-indicator {\r\n  height: 8px;\r\n  width: 8px;\r\n  border-radius: 50%;\r\n  cursor: pointer;\r\n  transition: background-color 150ms;\r\n}\r\n\r\n.carousel-indicator.active {\r\n  background-color: #fff;\r\n}\r\n\r\n.carousel-indicator.inactive {\r\n  background-color: #555;\r\n}\r\n",
      "type": "registry:item"
    }
  ]
}