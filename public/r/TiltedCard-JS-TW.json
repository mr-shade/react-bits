{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "TiltedCard-JS-TW",
  "type": "registry:block",
  "title": "TiltedCard",
  "description": "3D perspective tilt card reacting to pointer.",
  "dependencies": [
    "motion"
  ],
  "files": [
    {
      "path": "public/tailwind/src/tailwind/Components/TiltedCard/TiltedCard.jsx",
      "content": "import { useRef, useState } from 'react';\r\nimport { motion, useMotionValue, useSpring } from 'motion/react';\r\n\r\nconst springValues = {\r\n  damping: 30,\r\n  stiffness: 100,\r\n  mass: 2\r\n};\r\n\r\nexport default function TiltedCard({\r\n  imageSrc,\r\n  altText = 'Tilted card image',\r\n  captionText = '',\r\n  containerHeight = '300px',\r\n  containerWidth = '100%',\r\n  imageHeight = '300px',\r\n  imageWidth = '300px',\r\n  scaleOnHover = 1.1,\r\n  rotateAmplitude = 14,\r\n  showMobileWarning = true,\r\n  showTooltip = true,\r\n  overlayContent = null,\r\n  displayOverlayContent = false\r\n}) {\r\n  const ref = useRef(null);\r\n  const x = useMotionValue(0);\r\n  const y = useMotionValue(0);\r\n  const rotateX = useSpring(useMotionValue(0), springValues);\r\n  const rotateY = useSpring(useMotionValue(0), springValues);\r\n  const scale = useSpring(1, springValues);\r\n  const opacity = useSpring(0);\r\n  const rotateFigcaption = useSpring(0, {\r\n    stiffness: 350,\r\n    damping: 30,\r\n    mass: 1\r\n  });\r\n\r\n  const [lastY, setLastY] = useState(0);\r\n\r\n  function handleMouse(e) {\r\n    if (!ref.current) return;\r\n\r\n    const rect = ref.current.getBoundingClientRect();\r\n    const offsetX = e.clientX - rect.left - rect.width / 2;\r\n    const offsetY = e.clientY - rect.top - rect.height / 2;\r\n\r\n    const rotationX = (offsetY / (rect.height / 2)) * -rotateAmplitude;\r\n    const rotationY = (offsetX / (rect.width / 2)) * rotateAmplitude;\r\n\r\n    rotateX.set(rotationX);\r\n    rotateY.set(rotationY);\r\n\r\n    x.set(e.clientX - rect.left);\r\n    y.set(e.clientY - rect.top);\r\n\r\n    const velocityY = offsetY - lastY;\r\n    rotateFigcaption.set(-velocityY * 0.6);\r\n    setLastY(offsetY);\r\n  }\r\n\r\n  function handleMouseEnter() {\r\n    scale.set(scaleOnHover);\r\n    opacity.set(1);\r\n  }\r\n\r\n  function handleMouseLeave() {\r\n    opacity.set(0);\r\n    scale.set(1);\r\n    rotateX.set(0);\r\n    rotateY.set(0);\r\n    rotateFigcaption.set(0);\r\n  }\r\n\r\n  return (\r\n    <figure\r\n      ref={ref}\r\n      className=\"relative w-full h-full [perspective:800px] flex flex-col items-center justify-center\"\r\n      style={{\r\n        height: containerHeight,\r\n        width: containerWidth\r\n      }}\r\n      onMouseMove={handleMouse}\r\n      onMouseEnter={handleMouseEnter}\r\n      onMouseLeave={handleMouseLeave}\r\n    >\r\n      {showMobileWarning && (\r\n        <div className=\"absolute top-4 text-center text-sm block sm:hidden\">\r\n          This effect is not optimized for mobile. Check on desktop.\r\n        </div>\r\n      )}\r\n\r\n      <motion.div\r\n        className=\"relative [transform-style:preserve-3d]\"\r\n        style={{\r\n          width: imageWidth,\r\n          height: imageHeight,\r\n          rotateX,\r\n          rotateY,\r\n          scale\r\n        }}\r\n      >\r\n        <motion.img\r\n          src={imageSrc}\r\n          alt={altText}\r\n          className=\"absolute top-0 left-0 object-cover rounded-[15px] will-change-transform [transform:translateZ(0)]\"\r\n          style={{\r\n            width: imageWidth,\r\n            height: imageHeight\r\n          }}\r\n        />\r\n\r\n        {displayOverlayContent && overlayContent && (\r\n          <motion.div className=\"absolute top-0 left-0 z-[2] will-change-transform [transform:translateZ(30px)]\">\r\n            {overlayContent}\r\n          </motion.div>\r\n        )}\r\n      </motion.div>\r\n\r\n      {showTooltip && (\r\n        <motion.figcaption\r\n          className=\"pointer-events-none absolute left-0 top-0 rounded-[4px] bg-white px-[10px] py-[4px] text-[10px] text-[#2d2d2d] opacity-0 z-[3] hidden sm:block\"\r\n          style={{\r\n            x,\r\n            y,\r\n            opacity,\r\n            rotate: rotateFigcaption\r\n          }}\r\n        >\r\n          {captionText}\r\n        </motion.figcaption>\r\n      )}\r\n    </figure>\r\n  );\r\n}\r\n",
      "type": "registry:component"
    }
  ]
}