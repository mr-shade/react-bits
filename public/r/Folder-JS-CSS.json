{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "Folder-JS-CSS",
  "type": "registry:block",
  "title": "Folder",
  "description": "Interactive folder opens to reveal nested content smooth motion.",
  "files": [
    {
      "path": "public/default/src/content/Components/Folder/Folder.jsx",
      "content": "import { useState } from 'react';\r\nimport './Folder.css';\r\n\r\nconst darkenColor = (hex, percent) => {\r\n  let color = hex.startsWith('#') ? hex.slice(1) : hex;\r\n  if (color.length === 3) {\r\n    color = color\r\n      .split('')\r\n      .map(c => c + c)\r\n      .join('');\r\n  }\r\n  const num = parseInt(color, 16);\r\n  let r = (num >> 16) & 0xff;\r\n  let g = (num >> 8) & 0xff;\r\n  let b = num & 0xff;\r\n  r = Math.max(0, Math.min(255, Math.floor(r * (1 - percent))));\r\n  g = Math.max(0, Math.min(255, Math.floor(g * (1 - percent))));\r\n  b = Math.max(0, Math.min(255, Math.floor(b * (1 - percent))));\r\n  return '#' + ((1 << 24) + (r << 16) + (g << 8) + b).toString(16).slice(1).toUpperCase();\r\n};\r\n\r\nconst Folder = ({ color = '#5227FF', size = 1, items = [], className = '' }) => {\r\n  const maxItems = 3;\r\n  const papers = items.slice(0, maxItems);\r\n  while (papers.length < maxItems) {\r\n    papers.push(null);\r\n  }\r\n\r\n  const [open, setOpen] = useState(false);\r\n  const [paperOffsets, setPaperOffsets] = useState(Array.from({ length: maxItems }, () => ({ x: 0, y: 0 })));\r\n\r\n  const folderBackColor = darkenColor(color, 0.08);\r\n  const paper1 = darkenColor('#ffffff', 0.1);\r\n  const paper2 = darkenColor('#ffffff', 0.05);\r\n  const paper3 = '#ffffff';\r\n\r\n  const handleClick = () => {\r\n    setOpen(prev => !prev);\r\n    if (open) {\r\n      setPaperOffsets(Array.from({ length: maxItems }, () => ({ x: 0, y: 0 })));\r\n    }\r\n  };\r\n\r\n  const handlePaperMouseMove = (e, index) => {\r\n    if (!open) return;\r\n    const rect = e.currentTarget.getBoundingClientRect();\r\n    const centerX = rect.left + rect.width / 2;\r\n    const centerY = rect.top + rect.height / 2;\r\n    const offsetX = (e.clientX - centerX) * 0.15;\r\n    const offsetY = (e.clientY - centerY) * 0.15;\r\n    setPaperOffsets(prev => {\r\n      const newOffsets = [...prev];\r\n      newOffsets[index] = { x: offsetX, y: offsetY };\r\n      return newOffsets;\r\n    });\r\n  };\r\n\r\n  const handlePaperMouseLeave = (e, index) => {\r\n    setPaperOffsets(prev => {\r\n      const newOffsets = [...prev];\r\n      newOffsets[index] = { x: 0, y: 0 };\r\n      return newOffsets;\r\n    });\r\n  };\r\n\r\n  const folderStyle = {\r\n    '--folder-color': color,\r\n    '--folder-back-color': folderBackColor,\r\n    '--paper-1': paper1,\r\n    '--paper-2': paper2,\r\n    '--paper-3': paper3\r\n  };\r\n\r\n  const folderClassName = `folder ${open ? 'open' : ''}`.trim();\r\n  const scaleStyle = { transform: `scale(${size})` };\r\n\r\n  return (\r\n    <div style={scaleStyle} className={className}>\r\n      <div className={folderClassName} style={folderStyle} onClick={handleClick}>\r\n        <div className=\"folder__back\">\r\n          {papers.map((item, i) => (\r\n            <div\r\n              key={i}\r\n              className={`paper paper-${i + 1}`}\r\n              onMouseMove={e => handlePaperMouseMove(e, i)}\r\n              onMouseLeave={e => handlePaperMouseLeave(e, i)}\r\n              style={\r\n                open\r\n                  ? {\r\n                      '--magnet-x': `${paperOffsets[i]?.x || 0}px`,\r\n                      '--magnet-y': `${paperOffsets[i]?.y || 0}px`\r\n                    }\r\n                  : {}\r\n              }\r\n            >\r\n              {item}\r\n            </div>\r\n          ))}\r\n          <div className=\"folder__front\"></div>\r\n          <div className=\"folder__front right\"></div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Folder;\r\n",
      "type": "registry:component"
    },
    {
      "path": "public/default/src/content/Components/Folder/Folder.css",
      "content": ":root {\r\n  --folder-color: #70a1ff;\r\n  --folder-back-color: #4785ff;\r\n  --paper-1: #e6e6e6;\r\n  --paper-2: #f2f2f2;\r\n  --paper-3: #ffffff;\r\n}\r\n\r\n.folder {\r\n  transition: all 0.2s ease-in;\r\n  cursor: pointer;\r\n}\r\n\r\n.folder:not(.folder--click):hover {\r\n  transform: translateY(-8px);\r\n}\r\n\r\n.folder:not(.folder--click):hover .paper {\r\n  transform: translate(-50%, 0%);\r\n}\r\n\r\n.folder:not(.folder--click):hover .folder__front {\r\n  transform: skew(15deg) scaleY(0.6);\r\n}\r\n\r\n.folder:not(.folder--click):hover .right {\r\n  transform: skew(-15deg) scaleY(0.6);\r\n}\r\n\r\n.folder.open {\r\n  transform: translateY(-8px);\r\n}\r\n\r\n.folder.open .paper:nth-child(1) {\r\n  transform: translate(-120%, -70%) rotateZ(-15deg);\r\n}\r\n\r\n.folder.open .paper:nth-child(1):hover {\r\n  transform: translate(-120%, -70%) rotateZ(-15deg) scale(1.1);\r\n}\r\n\r\n.folder.open .paper:nth-child(2) {\r\n  transform: translate(10%, -70%) rotateZ(15deg);\r\n  height: 80%;\r\n}\r\n\r\n.folder.open .paper:nth-child(2):hover {\r\n  transform: translate(10%, -70%) rotateZ(15deg) scale(1.1);\r\n}\r\n\r\n.folder.open .paper:nth-child(3) {\r\n  transform: translate(-50%, -100%) rotateZ(5deg);\r\n  height: 80%;\r\n}\r\n\r\n.folder.open .paper:nth-child(3):hover {\r\n  transform: translate(-50%, -100%) rotateZ(5deg) scale(1.1);\r\n}\r\n\r\n.folder.open .folder__front {\r\n  transform: skew(15deg) scaleY(0.6);\r\n}\r\n\r\n.folder.open .right {\r\n  transform: skew(-15deg) scaleY(0.6);\r\n}\r\n\r\n.folder__back {\r\n  position: relative;\r\n  width: 100px;\r\n  height: 80px;\r\n  background: var(--folder-back-color);\r\n  border-radius: 0px 10px 10px 10px;\r\n}\r\n\r\n.folder__back::after {\r\n  position: absolute;\r\n  z-index: 0;\r\n  bottom: 98%;\r\n  left: 0;\r\n  content: '';\r\n  width: 30px;\r\n  height: 10px;\r\n  background: var(--folder-back-color);\r\n  border-radius: 5px 5px 0 0;\r\n}\r\n\r\n.paper {\r\n  position: absolute;\r\n  z-index: 2;\r\n  bottom: 10%;\r\n  left: 50%;\r\n  transform: translate(-50%, 10%);\r\n  width: 70%;\r\n  height: 80%;\r\n  background: var(--paper-1);\r\n  border-radius: 10px;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n\r\n.paper:nth-child(2) {\r\n  background: var(--paper-2);\r\n  width: 80%;\r\n  height: 70%;\r\n}\r\n\r\n.paper:nth-child(3) {\r\n  background: var(--paper-3);\r\n  width: 90%;\r\n  height: 60%;\r\n}\r\n\r\n.folder__front {\r\n  position: absolute;\r\n  z-index: 3;\r\n  width: 100%;\r\n  height: 100%;\r\n  background: var(--folder-color);\r\n  border-radius: 5px 10px 10px 10px;\r\n  transform-origin: bottom;\r\n  transition: all 0.3s ease-in-out;\r\n}\r\n",
      "type": "registry:item"
    }
  ]
}